# furyTerminalæ–‡æ¡£

1. [ç®€ä»‹](#ç®€ä»‹)
   1. [æ–‡æ¡£ç›®çš„](#æ–‡æ¡£ç›®çš„)
   2. [å‘èµ·æ—¶é—´](#å‘èµ·æ—¶é—´)
   3. [ç³»ç»Ÿç›®æ ‡](#ç³»ç»Ÿç›®æ ‡)
   4. [ç³»ç»Ÿç¯å¢ƒ](#ç³»ç»Ÿç¯å¢ƒ)
2. [ç®¡ç†](#ç®¡ç†)
3. [oncar](#oncar)
   1. [oncarè®¾è®¡æ–¹é’ˆ](#oncarè®¾è®¡æ–¹é’ˆ)
4. [djangoçºªè¦](#djangoçºªè¦)
   1. [è®¾ç½®å…è®¸è®¿é—®çš„åœ°å€](#è®¾ç½®å…è®¸è®¿é—®çš„åœ°å€)
   2. [è®¾ç½®åå°æ—¶é—´æ˜¾ç¤ºæ ¼å¼](#è®¾ç½®åå°æ—¶é—´æ˜¾ç¤ºæ ¼å¼)
   3. [å¸¸ç”¨å‘½ä»¤](#å¸¸ç”¨å‘½ä»¤)
      1. [è¿è¡Œç½‘ç«™](#è¿è¡Œç½‘ç«™)
      2. [ç”Ÿæˆåº”ç”¨çš„è¿ç§»](#ç”Ÿæˆåº”ç”¨çš„è¿ç§»)
      3. [åº”ç”¨è¿ç§»åˆ°ç½‘ç«™](#åº”ç”¨è¿ç§»åˆ°ç½‘ç«™)
      4. [database API](#database-api)
         1. [è¿›å…¥ä¸“ç”¨pythonè§£é‡Šå™¨](#è¿›å…¥ä¸“ç”¨pythonè§£é‡Šå™¨)
   4. [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)

## ç®€ä»‹

### æ–‡æ¡£ç›®çš„

æœ¬æ–‡æ¡£æ˜¯furyConsoleç³»ç»Ÿæ€»ä½“å’Œå„éƒ¨åˆ†è¯´æ˜, ä¸»è¦é¢å‘ç”µæ°”ç»„å¼€å‘äººå‘˜, å…¶ä»–ç»„æˆå‘˜ä¸åº”éœ€è¦é˜…è¯»
æœ¬æ–‡æ¡£, ç³»ç»Ÿå®ç°çš„åº”å½“æ˜¯ååˆ†å‹å¥½ (å‚»ç“œå¼) çš„äº¤äº’ğŸ˜

### å‘èµ·æ—¶é—´

2019-02-01

### ç³»ç»Ÿç›®æ ‡

å‘½åä¸ºfuryTerminalæ˜¯å› ä¸ºæœ¬ç³»ç»Ÿçš„ç›®æ ‡æ˜¯åšå‡ºä¸€ä¸ª **å‹å¥½, ç›´è§‚, å¥å£®** çš„èµ›è½¦
ç»ˆç«¯:

- è®©æ“ä½œæ–¹å¼è¶³å¤Ÿå‹å¥½, è½¦é˜Ÿé˜Ÿå‘˜ä»¬èƒ½é€šè¿‡ç®€å•æ“ä½œæ¥è·å–æ•°æ®æˆ–è€…æ›´æ”¹å‚æ•°
- æ•°æ®å‘ˆç°æ–¹å¼, äº¤äº’æ–¹å¼è¶³å¤Ÿç›´è§‚, é€Ÿåº¦, æ²¹é—¨, æ—¶é—´ç­‰è½¦æ‰‹å¸¸ç”¨æ•°æ®æ˜æ˜¾, æ•…éšœåŸå› æç¤ºå†…å®¹
  è¶³å¤Ÿç›´è§‚, åˆ†æç”¨æ•°æ®ä»¥å›¾è¡¨å½¢å¼å‘ˆç°
- ç³»ç»Ÿè¶³å¤Ÿå¥å£®, èƒ½å¤Ÿåº”å¯¹ç»å¤§å¤šæ•°æ•…éšœæƒ…å†µ, æ¯”å¦‚æ‰ç”µæ•°æ®å‚¨å­˜ç­‰.

![ç³»ç»Ÿè“å›¾](doc/è“å›¾.png)

è‡³äºä»€ä¹ˆæ˜¯ç»ˆç«¯ (Terminal), å‚è§ ğŸ”— [è¿™é‡Œ](https://www.zhihu.com/question/21711307/answer/118788917)

### ç³»ç»Ÿç¯å¢ƒ

`Linux` version: 4.14.34-v7+ (dc4@dc4-XPS13-9333) (gcc version 4.9.3 (crosstool-NG crosstool-ng-1.22.0-88-g8460611)) #1110 SMP Mon Apr 16 15:18:51 BST 2018

`Raspbian` version: Raspbian GNU/Linux 9.6 (stretch)

â—ï¸ å½“å‰ä½¿ç”¨[ä¸­ç§‘å¤§æº](https://lug.ustc.edu.cn/wiki/mirrors/help/raspbian)

`python` version: Python 3.5.3 (default, Sep 27 2018, 17:25:39) [GCC 6.3.0 20170516] on linux

ğŸ’¡ å½“å‰ç³»ç»Ÿé»˜è®¤pythonä¸º 3.5.3, è‹¥æƒ³å°†ç³»ç»Ÿé»˜è®¤pythonåˆ‡æ¢å›python2, è¿è¡Œä»¥ä¸‹å‘½ä»¤ç„¶åè·Ÿéš
æŒ‡å¯¼æ“ä½œ.

```shell
sudo update-alternatives --config python
```

âš ï¸éœ€æ³¨æ„pipçš„ç‰ˆæœ¬ä¸pythonç‰ˆæœ¬ç›¸åŒ¹é…, é€šè¿‡è¿è¡Œ `pip -V` æ¥æŸ¥çœ‹pipç‰ˆæœ¬å’Œä½ç½®

`django` version: 2.1.7

# CANè½¬SPIæ¨¡å—

ğŸ“–[RS485 CAN HATç”¨æˆ·æ‰‹å†Œ](doc/CAN2SPI/CAN_to_SPI_module/RS485-CAN-HAT-user-manual-cn.pdf)

ğŸ“–[RS485 CAN HATç”µè·¯å›¾](doc/CAN2SPI/CAN_to_SPI_module/RS485_CAN_HAT_Schematic.pdf)

ğŸ”— [python-canæ–‡æ¡£](https://python-can.readthedocs.io/en/master/index.html#)

# è½¦è½½ç½‘ç«™ (äº¤äº’å¹³å°)

æœ¬ç½‘ç«™åŸºäºDjangoæ¡†æ¶.

ğŸ”— [Djangoä¸­æ–‡æ–‡æ¡£](https://docs.djangoproject.com/zh-hans/2.1/)

## ç®¡ç†

ç®¡ç†å‘˜è´¦å·: leo
å¯†ç : 111111

## oncar

### oncarè®¾è®¡æ–¹é’ˆ

ğŸ“– [oncarè®¾è®¡æ–¹é’ˆ](doc/furyTerminal/oncar/è®¾è®¡æ–¹é’ˆ.md)

## djangoçºªè¦

### è®¾ç½®å…è®¸è®¿é—®çš„åœ°å€

åœ¨ `furyTerminal/furyTerminal/settings.py` ä¸­ **ALLOWED_HOSTS**ä¸€é¡¹è®¾ç½®äº†å…è®¸è®¿é—®
ç½‘ç«™çš„åœ°å€, è®¾ä¸º `'*'` åˆ™æ˜¯å…è®¸æ‰€æœ‰åœ°å€è®¿é—®.

### è®¾ç½®åå°æ—¶é—´æ˜¾ç¤ºæ ¼å¼

ğŸ”— [å¯ç”¨çš„æ ¼å¼åŒ–å­—ç¬¦](https://docs.djangoproject.com/en/2.0/ref/templates/builtins/#date)
ğŸ”— å…·ä½“å‚è€ƒ[è¿™é‡Œ](https://blog.51cto.com/xujpxm/2090382)

### å¸¸ç”¨å‘½ä»¤

#### è¿è¡Œç½‘ç«™

âš ï¸ åœ¨ç½‘ç«™æ ¹ç›®å½•æ‰§è¡Œ.
ğŸ’¡æ­¤æ—¶ä¸ºç½‘ç«™åœ¨ **localhost:8000** è¿è¡Œ

```shell
python furyTerminal/manage.py runserver 0:8000
```

#### ç”Ÿæˆåº”ç”¨çš„è¿ç§»

```shell
python manage.py makemigrations
```

#### åº”ç”¨è¿ç§»åˆ°ç½‘ç«™

âš ï¸ åœ¨ç½‘ç«™æ ¹ç›®å½•æ‰§è¡Œ.

```shell
python manage.py migrate
```

#### database API

##### è¿›å…¥ä¸“ç”¨pythonè§£é‡Šå™¨

> æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå‘½ä»¤è€Œä¸æ˜¯ç®€å•çš„ä½¿ç”¨ "Python" æ˜¯å› ä¸º **manage.py** ä¼šè®¾ç½®
> **DJANGO_SETTINGS_MODULE** ç¯å¢ƒå˜é‡ï¼Œè¿™ä¸ªå˜é‡ä¼šè®© Django æ ¹æ® **mysite/settings.py**
> æ–‡ä»¶æ¥è®¾ç½® Python åŒ…çš„å¯¼å…¥è·¯å¾„ã€‚

```shell
python manage.py shell
```



### æ³¨æ„äº‹é¡¹

- path()å‡½æ•°çš„å‚æ•°`route`ä¸ä¼šåŒ¹é… GET å’Œ POST å‚æ•°æˆ–åŸŸåã€‚ä¾‹å¦‚ï¼ŒURLconf åœ¨å¤„ç†è¯·æ±‚
  https://www.example.com/myapp/ æ—¶ï¼Œå®ƒä¼šå°è¯•åŒ¹é… myapp/ ã€‚å¤„ç†è¯·æ±‚
  https://www.example.com/myapp/?page=3 æ—¶ï¼Œä¹Ÿåªä¼šå°è¯•åŒ¹é… myapp/ã€‚
- ğŸ”—[djangoæ¨¡å‹ä¸­auto_nowå’Œauto_now_addçš„åŒºåˆ«](https://www.cnblogs.com/vincenshen/articles/7659763.html)